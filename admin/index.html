<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tea Details Recorder</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/geoData.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>Tea Details Recorder</h1>
        
        <!-- Flavor Wheel Experiment Link -->
        <div class="experiment-link">
            <a href="flavorWheel/index.html" class="flavor-wheel-link">Try the Experimental Tea Flavor Wheel</a>
        </div>
        
        <form id="teaForm">
            <div class="form-group">
                <label for="teaName">Tea Name:</label>
                <input type="text" id="teaName" name="teaName" required>
            </div>
            
            <div class="form-group">
                <label for="originalName">Original Name:</label>
                <input type="text" id="originalName" name="originalName" placeholder="Original language name (e.g. Chinese)">
            </div>
            
            <div class="form-group">
                <label for="teaType">Tea Type/Family:</label>
                <select id="teaType" name="teaType" required>
                    <option value="" selected disabled>Select tea type</option>
                    <option value="white">White Tea</option>
                    <option value="green">Green Tea</option>
                    <option value="yellow">Yellow Tea</option>
                    <option value="oolong">Oolong (Wulong) Tea</option>
                    <option value="black">Black Tea</option>
                    <option value="pu_er">Pu'er Tea</option>
                </select>
            </div>
            
            <!-- Origin Information Section -->
            <div class="form-group">
                <label for="originLocation">Origin Location:</label>
                <input type="text" id="originLocation" name="originLocation" placeholder="Where the tea is from">
            </div>
            
            <div class="form-group">
                <label for="originAltitude">Altitude:</label>
                <input type="text" id="originAltitude" name="originAltitude" placeholder="Growing altitude">
            </div>
            
            <div class="form-group">
                <label for="originTemperature">Average Temperature:</label>
                <input type="text" id="originTemperature" name="originTemperature" placeholder="Average temperature">
            </div>
            
            <div class="form-group">
                <label for="originHumidity">Average Humidity:</label>
                <input type="text" id="originHumidity" name="originHumidity" placeholder="Average humidity">
            </div>
            
            <div class="form-group">
                <label for="originSolarExposure">Solar Exposure:</label>
                <input type="text" id="originSolarExposure" name="originSolarExposure" placeholder="Solar exposure">
            </div>
            
            <!-- Geographical Data Tool Section -->
            <div class="geo-section" id="geo-section">
                <h3>Tea Origin Geographical Data Tool</h3>
                <p>Search for the tea's origin location to get climate data</p>
                
                <div class="geo-form-group">
                    <div class="input-group">
                        <input type="text" id="locationInput" placeholder="Enter city name (e.g., Chaozhou, New York, Paris)">
                        <button type="button" id="searchButton">Search Location</button>
                    </div>
                    
                    <!-- Add location results container -->
                    <div id="locationResults"></div>
                </div>
                
                <div class="geo-form-group">
                    <div class="auto-estimate-container">
                        <input type="checkbox" id="autoEstimateCheckbox" checked>
                        <label for="autoEstimateCheckbox">Auto-estimate Altitude</label>
                    </div>
                    
                    <div class="coordinates-group">
                        <input type="text" id="latitudeInput" placeholder="Latitude" readonly>
                        <input type="text" id="longitudeInput" placeholder="Longitude" readonly>
                        <div class="input-container">
                            <input type="text" id="altitudeInput" placeholder="Altitude (meters)" disabled>
                            <span id="estimatedLabel" class="estimated-label">Estimated</span>
                        </div>
                    </div>
                    
                    <button type="button" id="fetchButton" disabled>Get Weather Data</button>
                </div>
                
                <div id="error"></div>
                
                <div class="results" id="resultsContainer" style="display: none;">
                    <div class="result-card">
                        <h3>Location</h3>
                        <div class="value" id="locationInfo">-</div>
                    </div>
                    <div class="result-card">
                        <h3>Solar Radiation</h3>
                        <div class="value" id="avgSolarRadiation">-</div>
                    </div>
                    <div class="result-card">
                        <h3>Solar Exposure</h3>
                        <div class="value" id="avgSolarExposure">-</div>
                    </div>
                    <div class="result-card">
                        <h3>Humidity</h3>
                        <div class="value" id="avgHumidity">-</div>
                    </div>
                    <div class="result-card">
                        <h3>Temperature</h3>
                        <div class="value" id="avgTemperature">-</div>
                    </div>
                    <div class="result-card">
                        <h3>Altitude</h3>
                        <div class="value" id="estimatedAltitude">-</div>
                    </div>
                </div>
                
                <canvas id="chart"></canvas>
            </div>
            
            <div class="form-group">
                <label>Processing Methods:</label>
                <div id="processingMethods" class="chip-container">
                    <!-- Processing methods chips will be added here dynamically -->
                </div>
                <div id="suggestedProcessingMethods" class="suggestions-container">
                    <!-- Suggested processing methods will appear here -->
                </div>
                <div class="custom-input-container">
                    <input type="text" id="customProcessingMethod" placeholder="Add a custom processing method">
                    <div id="processingMethodSuggestions" class="autocomplete-suggestions"></div>
                </div>
            </div>
            
            <div class="form-group">
                <label>Flavor Profiles:</label>
                <div id="flavorProfiles" class="chip-container">
                    <!-- Flavor profiles chips will be added here dynamically -->
                </div>
                <div id="suggestedFlavorProfiles" class="suggestions-container">
                    <!-- Suggested flavor profiles will appear here -->
                </div>
                
                <!-- New direct flavor input option -->
                <div class="input-option-tabs">
                    <button type="button" class="tab-button active" id="directFlavorTab">Enter Flavor</button>
                    <button type="button" class="tab-button" id="categoryTypeTab">Category & Type</button>
                </div>
                
                <!-- Direct flavor input (new) -->
                <div class="custom-input-container" id="directFlavorInput">
                    <input type="text" id="customFlavor" placeholder="Enter a flavor (e.g., jasmine, peach, cinnamon)">
                    <div id="flavorSuggestions" class="autocomplete-suggestions"></div>
                </div>
                
                <!-- Category & Type input (existing approach) -->
                <div class="custom-input-container" id="categoryTypeInput" style="display: none;">
                    <input type="text" id="customFlavorCategory" placeholder="Category (e.g., fruity, floral)">
                    <input type="text" id="customFlavorType" placeholder="Type (e.g., tropical, citrus)">
                    <div id="flavorProfileSuggestions" class="autocomplete-suggestions"></div>
                </div>
            </div>
            
            <div class="form-group">
                <label for="oxidationLevel">Oxidation Level:</label>
                <input type="text" id="oxidationLevel" name="oxidationLevel" readonly>
            </div>
            
            <div class="form-group">
                <label for="teaNotes">Notes:</label>
                <textarea id="teaNotes" name="teaNotes" rows="4"></textarea>
            </div>
            
            <div class="button-group">
                <button type="submit" id="saveButton">Save Tea Record</button>
                <button type="button" id="exportButton">Export All Records</button>
            </div>
        </form>
        
        <div id="savedRecords">
            <h2>Saved Tea Records</h2>
            <ul id="recordsList">
                <!-- Saved records will be listed here -->
            </ul>
        </div>
    </div>
    
    <script src="js/data.js"></script>
    <script src="js/suggestions.js"></script>
    <script src="js/geoData.js"></script>
    <script src="js/geoInterface.js"></script>
    <script src="js/app.js"></script>
</body>
</html> 